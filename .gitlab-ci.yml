image: cirrusci/flutter:stable

stages:
  - build
  - deploy

build:
  stage: build
  script:
    - flutter pub get
    - flutter build web

deploy:
  stage: deploy
  script:
    - echo "$SSH_PRIVATE_KEY" > ssh_key
    - chmod 600 ssh_key
    - scp -r -i ssh_key build/web student@l4c.projekte.it.hs-worms.de:/var/www/html
